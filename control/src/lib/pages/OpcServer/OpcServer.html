<ng-container *ngIf="viewPromise | async">
	<mat-toolbar>

		<button mat-raised-button [color]="showSnapshot ? 'primary' : null" (click)="toggleSnapshot()" ><span class="material-symbols-outlined">preview</span><span style="text-align: center;vertical-align: baseline;height: 100%;">Snapshot</span></button>
		<!-- <button mat-raised-button color="primary">Values</button>
		<button mat-raised-button color="primary">Primary</button>
    <button mat-raised-button color="accent">Accent</button>
    <button mat-raised-button color="warn">Warn</button> -->
	</mat-toolbar>
	<div style="align-content: center; margin: auto;  text-align: center; width: 750px">
		<mat-table [dataSource]="references" class="mat-elevation-z8" style="width: 100%;">
			<!-- matSort (matSortChange)="sortData($event)" [matSortActive]="sort.active" [matSortDirection]="sort.direction" -->
			<ng-container matColumnDef="id">
				<mat-header-cell mat-sort-header *matHeaderCellDef> ID </mat-header-cell>
				<mat-cell mat-cell *matCellDef="let r">{{r.node.id}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="name">
				<mat-header-cell mat-sort-header [style.flex]="'0 0 65px'" *matHeaderCellDef> Name </mat-header-cell>
				<mat-cell [ngClass]="'xyz'" f2  title="{{r.displayName.locale}}" mat-cell *matCellDef="let r">
					<span *ngIf="r.node.id==node.id">{{r.displayName.text}}</span>
					<a *ngIf="r.node.id!=node.id" [routerLink] ="['/opcServers/'+opc]" [queryParams]="r.nodeParams()" routerLinkActive="router-link-active" >{{r.displayName.text}}</a>
				</mat-cell>
			</ng-container>
			<ng-container matColumnDef="class">
				<mat-header-cell mat-sort-header *matHeaderCellDef> Class </mat-header-cell>
				<mat-cell mat-cell *matCellDef="let r">{{toObject[r.nodeClass]}}</mat-cell>
			</ng-container>
			<ng-container matColumnDef="snapshot">
				<mat-header-cell mat-sort-header *matHeaderCellDef> Snapshot </mat-header-cell>
				<mat-cell mat-cell *matCellDef="let r">{{toString(r.value)}}</mat-cell>
			</ng-container>
			<mat-header-row *matHeaderRowDef=visibleColumns></mat-header-row>
			<mat-row *matRowDef="let row; columns: visibleColumns"></mat-row>
		</mat-table>
	</div>
</ng-container>